<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://api-template.seapagan.net/usage/configuration/environment/ rel=canonical><link href=../../installation/ rel=prev><link href=../setup/ rel=next><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.4"><title>Environment File - FastAPI Template</title><link rel=stylesheet href=../../../assets/stylesheets/main.8608ea7d.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../assets/_mkdocstrings.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=light-blue data-md-color-accent=blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#environment-variables class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="FastAPI Template" class="md-header__button md-logo" aria-label="FastAPI Template" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> FastAPI Template </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Environment File </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/seapagan/fastapi-template title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> seapagan/fastapi-template </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="FastAPI Template" class="md-nav__button md-logo" aria-label="FastAPI Template" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> FastAPI Template </label> <div class=md-nav__source> <a href=https://github.com/seapagan/fastapi-template title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> seapagan/fastapi-template </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../../quick-start/ class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> </li> <li class=md-nav__item> <a href=../../../important/ class=md-nav__link> <span class=md-ellipsis> Breaking Changes </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Usage </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Usage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2 checked> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> Configuration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=true> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Configuration </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Environment File </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Environment File </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#set-up-the-env-file class=md-nav__link> <span class=md-ellipsis> Set up the .env file </span> </a> </li> <li class=md-nav__item> <a href=#set-the-base-url class=md-nav__link> <span class=md-ellipsis> Set the Base URL </span> </a> </li> <li class=md-nav__item> <a href=#set-the-frontend-url-optional class=md-nav__link> <span class=md-ellipsis> Set the Frontend URL (Optional) </span> </a> </li> <li class=md-nav__item> <a href=#set-the-api-root-prefix-optional class=md-nav__link> <span class=md-ellipsis> Set the API Root Prefix (Optional) </span> </a> </li> <li class=md-nav__item> <a href=#disable-the-root-route class=md-nav__link> <span class=md-ellipsis> Disable the Root Route </span> </a> </li> <li class=md-nav__item> <a href=#configure-the-database-settings class=md-nav__link> <span class=md-ellipsis> Configure the database Settings </span> </a> </li> <li class=md-nav__item> <a href=#change-the-secret_key class=md-nav__link> <span class=md-ellipsis> Change the SECRET_KEY </span> </a> <nav class=md-nav aria-label="Change the SECRET_KEY"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#through-the-cli class=md-nav__link> <span class=md-ellipsis> Through the CLI </span> </a> </li> <li class=md-nav__item> <a href=#manually class=md-nav__link> <span class=md-ellipsis> Manually </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#token-expiry-setting class=md-nav__link> <span class=md-ellipsis> Token Expiry Setting </span> </a> </li> <li class=md-nav__item> <a href=#check-cors-settings class=md-nav__link> <span class=md-ellipsis> Check CORS Settings </span> </a> </li> <li class=md-nav__item> <a href=#change-the-email-server-settings class=md-nav__link> <span class=md-ellipsis> Change the Email Server settings </span> </a> </li> <li class=md-nav__item> <a href=#configure-admin-pages-optional class=md-nav__link> <span class=md-ellipsis> Configure Admin Pages (Optional) </span> </a> <nav class=md-nav aria-label="Configure Admin Pages (Optional)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#enable-admin-pages class=md-nav__link> <span class=md-ellipsis> Enable Admin Pages </span> </a> </li> <li class=md-nav__item> <a href=#customize-admin-pages-route class=md-nav__link> <span class=md-ellipsis> Customize Admin Pages Route </span> </a> </li> <li class=md-nav__item> <a href=#customize-admin-panel-title class=md-nav__link> <span class=md-ellipsis> Customize Admin Panel Title </span> </a> </li> <li class=md-nav__item> <a href=#session-encryption-key class=md-nav__link> <span class=md-ellipsis> Session Encryption Key </span> </a> </li> <li class=md-nav__item> <a href=#session-timeout class=md-nav__link> <span class=md-ellipsis> Session Timeout </span> </a> </li> <li class=md-nav__item> <a href=#complete-admin-pages-example class=md-nav__link> <span class=md-ellipsis> Complete Admin Pages Example </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configure-logging-optional class=md-nav__link> <span class=md-ellipsis> Configure Logging (Optional) </span> </a> <nav class=md-nav aria-label="Configure Logging (Optional)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#log-output-directory class=md-nav__link> <span class=md-ellipsis> Log Output Directory </span> </a> </li> <li class=md-nav__item> <a href=#logging-level class=md-nav__link> <span class=md-ellipsis> Logging Level </span> </a> </li> <li class=md-nav__item> <a href=#log-file-rotation class=md-nav__link> <span class=md-ellipsis> Log File Rotation </span> </a> </li> <li class=md-nav__item> <a href=#log-file-retention class=md-nav__link> <span class=md-ellipsis> Log File Retention </span> </a> </li> <li class=md-nav__item> <a href=#log-file-compression class=md-nav__link> <span class=md-ellipsis> Log File Compression </span> </a> </li> <li class=md-nav__item> <a href=#logging-categories class=md-nav__link> <span class=md-ellipsis> Logging Categories </span> </a> </li> <li class=md-nav__item> <a href=#log-filename class=md-nav__link> <span class=md-ellipsis> Log Filename </span> </a> </li> <li class=md-nav__item> <a href=#console-logging class=md-nav__link> <span class=md-ellipsis> Console Logging </span> </a> </li> <li class=md-nav__item> <a href=#complete-logging-configuration-examples class=md-nav__link> <span class=md-ellipsis> Complete Logging Configuration Examples </span> </a> </li> <li class=md-nav__item> <a href=#troubleshooting-logging class=md-nav__link> <span class=md-ellipsis> Troubleshooting Logging </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#example-full-env-file class=md-nav__link> <span class=md-ellipsis> Example full .env file </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../setup/ class=md-nav__link> <span class=md-ellipsis> Install Dependencies </span> </a> </li> <li class=md-nav__item> <a href=../database/ class=md-nav__link> <span class=md-ellipsis> Setup Database </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../user-management/ class=md-nav__link> <span class=md-ellipsis> User Management </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../api-keys/ class=md-nav__link> <span class=md-ellipsis> API Keys </span> </a> </li> <li class=md-nav__item> <a href=../../admin-panel/ class=md-nav__link> <span class=md-ellipsis> Admin Panel </span> </a> </li> <li class=md-nav__item> <a href=../../metrics/ class=md-nav__link> <span class=md-ellipsis> Metrics and Observability </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../customization/meta/ class=md-nav__link> <span class=md-ellipsis> Customization </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../development/local/ class=md-nav__link> <span class=md-ellipsis> Development and Testing </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../../project-organization/ class=md-nav__link> <span class=md-ellipsis> Project Organization </span> </a> </li> <li class=md-nav__item> <a href=../../../tutorials/ class=md-nav__link> <span class=md-ellipsis> Tutorials </span> </a> </li> <li class=md-nav__item> <a href=../../../deployment/deployment/ class=md-nav__link> <span class=md-ellipsis> Deployment </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/api/ class=md-nav__link> <span class=md-ellipsis> API Reference </span> </a> </li> <li class=md-nav__item> <a href=../../../reference/swagger/ class=md-nav__link> <span class=md-ellipsis> Swagger API Docs </span> </a> </li> <li class=md-nav__item> <a href=../../../troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> </li> <li class=md-nav__item> <a href=../../../future/ class=md-nav__link> <span class=md-ellipsis> Future Plans and Bugs </span> </a> </li> <li class=md-nav__item> <a href=../../../contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> <li class=md-nav__item> <a href=../../../changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> <li class=md-nav__item> <a href=../../../license/ class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#set-up-the-env-file class=md-nav__link> <span class=md-ellipsis> Set up the .env file </span> </a> </li> <li class=md-nav__item> <a href=#set-the-base-url class=md-nav__link> <span class=md-ellipsis> Set the Base URL </span> </a> </li> <li class=md-nav__item> <a href=#set-the-frontend-url-optional class=md-nav__link> <span class=md-ellipsis> Set the Frontend URL (Optional) </span> </a> </li> <li class=md-nav__item> <a href=#set-the-api-root-prefix-optional class=md-nav__link> <span class=md-ellipsis> Set the API Root Prefix (Optional) </span> </a> </li> <li class=md-nav__item> <a href=#disable-the-root-route class=md-nav__link> <span class=md-ellipsis> Disable the Root Route </span> </a> </li> <li class=md-nav__item> <a href=#configure-the-database-settings class=md-nav__link> <span class=md-ellipsis> Configure the database Settings </span> </a> </li> <li class=md-nav__item> <a href=#change-the-secret_key class=md-nav__link> <span class=md-ellipsis> Change the SECRET_KEY </span> </a> <nav class=md-nav aria-label="Change the SECRET_KEY"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#through-the-cli class=md-nav__link> <span class=md-ellipsis> Through the CLI </span> </a> </li> <li class=md-nav__item> <a href=#manually class=md-nav__link> <span class=md-ellipsis> Manually </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#token-expiry-setting class=md-nav__link> <span class=md-ellipsis> Token Expiry Setting </span> </a> </li> <li class=md-nav__item> <a href=#check-cors-settings class=md-nav__link> <span class=md-ellipsis> Check CORS Settings </span> </a> </li> <li class=md-nav__item> <a href=#change-the-email-server-settings class=md-nav__link> <span class=md-ellipsis> Change the Email Server settings </span> </a> </li> <li class=md-nav__item> <a href=#configure-admin-pages-optional class=md-nav__link> <span class=md-ellipsis> Configure Admin Pages (Optional) </span> </a> <nav class=md-nav aria-label="Configure Admin Pages (Optional)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#enable-admin-pages class=md-nav__link> <span class=md-ellipsis> Enable Admin Pages </span> </a> </li> <li class=md-nav__item> <a href=#customize-admin-pages-route class=md-nav__link> <span class=md-ellipsis> Customize Admin Pages Route </span> </a> </li> <li class=md-nav__item> <a href=#customize-admin-panel-title class=md-nav__link> <span class=md-ellipsis> Customize Admin Panel Title </span> </a> </li> <li class=md-nav__item> <a href=#session-encryption-key class=md-nav__link> <span class=md-ellipsis> Session Encryption Key </span> </a> </li> <li class=md-nav__item> <a href=#session-timeout class=md-nav__link> <span class=md-ellipsis> Session Timeout </span> </a> </li> <li class=md-nav__item> <a href=#complete-admin-pages-example class=md-nav__link> <span class=md-ellipsis> Complete Admin Pages Example </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configure-logging-optional class=md-nav__link> <span class=md-ellipsis> Configure Logging (Optional) </span> </a> <nav class=md-nav aria-label="Configure Logging (Optional)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#log-output-directory class=md-nav__link> <span class=md-ellipsis> Log Output Directory </span> </a> </li> <li class=md-nav__item> <a href=#logging-level class=md-nav__link> <span class=md-ellipsis> Logging Level </span> </a> </li> <li class=md-nav__item> <a href=#log-file-rotation class=md-nav__link> <span class=md-ellipsis> Log File Rotation </span> </a> </li> <li class=md-nav__item> <a href=#log-file-retention class=md-nav__link> <span class=md-ellipsis> Log File Retention </span> </a> </li> <li class=md-nav__item> <a href=#log-file-compression class=md-nav__link> <span class=md-ellipsis> Log File Compression </span> </a> </li> <li class=md-nav__item> <a href=#logging-categories class=md-nav__link> <span class=md-ellipsis> Logging Categories </span> </a> </li> <li class=md-nav__item> <a href=#log-filename class=md-nav__link> <span class=md-ellipsis> Log Filename </span> </a> </li> <li class=md-nav__item> <a href=#console-logging class=md-nav__link> <span class=md-ellipsis> Console Logging </span> </a> </li> <li class=md-nav__item> <a href=#complete-logging-configuration-examples class=md-nav__link> <span class=md-ellipsis> Complete Logging Configuration Examples </span> </a> </li> <li class=md-nav__item> <a href=#troubleshooting-logging class=md-nav__link> <span class=md-ellipsis> Troubleshooting Logging </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#example-full-env-file class=md-nav__link> <span class=md-ellipsis> Example full .env file </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=environment-variables>Environment Variables</h1> <h2 id=set-up-the-env-file>Set up the <code>.env</code> file</h2> <p>Database (and other) settings can be read from environment variables or from a <code>.env</code> file in the project root. See the <code>.env.example</code> file for how to use, in fact you can just copy this file to <code>.env</code> and edit the settings as required.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>The Database (and test database if you are running the tests) and User must already exist in your Postgres system!</p> <p><strong>Note that if you are using the <a href=../../../development/docker/ >Docker</a> container, this is done automatically.</strong></p> </div> <h2 id=set-the-base-url>Set the Base URL</h2> <p>The Base URL is the hostname and path to the ROOT of the API on your hosting system. Knowing this allows the API to build paths in responses and internally.</p> <div class=highlight><pre><span></span><code><span class=na>BASE_URL</span><span class=o>=</span><span class=s>https://api.my-server.com</span>
</code></pre></div> <h2 id=set-the-frontend-url-optional>Set the Frontend URL (Optional)</h2> <p>If you have a custom frontend application (React, Vue, Angular, etc.), you can configure the API to redirect password reset requests to your frontend instead of displaying the built-in HTML form.</p> <div class=highlight><pre><span></span><code><span class=na>FRONTEND_URL</span><span class=o>=</span><span class=s>https://app.my-server.com</span>
</code></pre></div> <p>When this is set:</p> <ul> <li>Users clicking password reset links in emails will be redirected to your frontend</li> <li>The redirect URL will be: <code>{FRONTEND_URL}/reset-password?code={token}</code></li> <li>Your frontend should handle the <code>/reset-password</code> route, extract the <code>code</code> query parameter, and display a custom password reset form</li> <li>The form should POST to the backend API <code>/reset-password/</code> endpoint with JSON</li> </ul> <p>When not set:</p> <ul> <li>Users will see the built-in password reset form</li> <li>Works standalone without any frontend configuration</li> <li>Useful for APIs without a custom frontend</li> </ul> <div class="admonition tip"> <p class=admonition-title>Flexible Integration</p> <p>This setting provides the best of both worlds: standalone functionality when not configured, and seamless custom frontend integration when configured.</p> </div> <h2 id=set-the-api-root-prefix-optional>Set the API Root Prefix (Optional)</h2> <p>If you want to add a prefix to all the routes, you can set it here. This is useful if you are running multiple APIs on the same server and want to avoid route conflicts, or for versioning.</p> <div class=highlight><pre><span></span><code><span class=na>API_ROOT</span><span class=o>=</span><span class=s>/api/v1</span>
</code></pre></div> <p>This will prefix all routes with <code>/api/v1</code>, so <code>/users</code> becomes <code>/api/v1/users</code> and so on. If this is not set, the API will use the root <code>/</code> as the prefix. Do not add a trailing <code>/</code> to the prefix, though if present it will be stripped anyway.</p> <h2 id=disable-the-root-route>Disable the Root Route</h2> <p>By default, the root route <code>/</code> is enabled and returns an HTML page with a welcome message if accessed through a browser or a JSON response if accessed directly. If you want to disable this, set the below variable to <code>False</code>.</p> <div class=highlight><pre><span></span><code><span class=na>NO_ROOT_ROUTE</span><span class=o>=</span><span class=s>True</span>
</code></pre></div> <p>If the variable is not set, or set to <code>False</code>, the root route will be enabled as usual. If set to <code>True</code>, the root route will return a 404 error and a JSON message.</p> <div class="admonition note"> <p class=admonition-title>API Root Prefix</p> <p>This works in conjunction with the <code>API_ROOT</code> setting, so if the root route is disabled and the API Root is set to <code>/api/v1</code>, the API will return a 404 error and a JSON message when accessing <code>/api/v1</code>.</p> </div> <h2 id=configure-the-database-settings>Configure the database Settings</h2> <p>Edit the below part of the <code>.env</code> file to configure your database. If this is incorrect, the API will clear all routes and only display an error.</p> <div class=highlight><pre><span></span><code><span class=na>DB_USER</span><span class=o>=</span><span class=s>dbuser</span>
<span class=na>DB_PASSWORD</span><span class=o>=</span><span class=s>my_secret_passw0rd</span>
<span class=na>DB_ADDRESS</span><span class=o>=</span><span class=s>localhost</span>
<span class=na>DB_PORT</span><span class=o>=</span><span class=s>5432</span>
<span class=na>DB_NAME</span><span class=o>=</span><span class=s>my_database_name</span>
</code></pre></div> <p>For testing, also set the name of the test database:</p> <div class=highlight><pre><span></span><code><span class=na>TEST_DB_NAME</span><span class=o>=</span><span class=s>my_test_database_name</span>
</code></pre></div> <div class="admonition danger"> <p class=admonition-title>Database Setup</p> <p>The database user, and both the prod and test database must already exist, and the <code>DB_USER</code> must have the correct permissions to access them. The API will not create the database for you.</p> <p>If you don't intend to run the tests (ie running on a production server), you don't need to create the test database.</p> </div> <h2 id=change-the-secret_key>Change the SECRET_KEY</h2> <p>Do not leave this as default, generate a new unique key for each of your projects! This key is used to sign the JWT tokens and should be kept secret, and be unique for each project.</p> <h3 id=through-the-cli>Through the CLI</h3> <p>You can do this by running the below command in the root of the project:</p> <div class=highlight><pre><span></span><code><span class=go>api-admin keys -s</span>
</code></pre></div> <p>This will generate a new key and optionally update the <code>.env</code> file with the new value. If you choose not to do the update automatically, you can copy the key from the console output and paste it into the <code>.env</code> file.</p> <div class=highlight><pre><span></span><code><span class=na>SECRET_KEY</span><span class=o>=</span><span class=s>d0d83c7ac2f3e4dfa205dc3c51b4952ad57fa8a842c8417168dc46bc07fbc1f8</span>
</code></pre></div> <h3 id=manually>Manually</h3> <p>If you prefer to do this manually, you can generate a new key using the below commands:</p> <p>To generate a good secret key you can use the below command on Linux or Mac:</p> <div class=highlight><pre><span></span><code><span class=gp>$ </span>openssl<span class=w> </span>rand<span class=w> </span>-base64<span class=w> </span><span class=m>32</span>
<span class=go>xtFhsNhbGOJG//TAtDNtoTxV/hVDvssC79ApNm0gs7w=</span>
</code></pre></div> <p>or a one-liner using Python:</p> <div class=highlight><pre><span></span><code><span class=gp>$ </span>python<span class=w> </span>-c<span class=w> </span><span class=s1>&#39;import secrets; print(secrets.token_hex(32))&#39;</span>
<span class=go>d0d83c7ac2f3e4dfa205dc3c51b4952ad57fa8a842c8417168dc46bc07fbc1f8</span>
</code></pre></div> <p>Then replace the default value in the <code>.env</code> file as so:</p> <div class=highlight><pre><span></span><code><span class=na>SECRET_KEY</span><span class=o>=</span><span class=s>d0d83c7ac2f3e4dfa205dc3c51b4952ad57fa8a842c8417168dc46bc07fbc1f8</span>
</code></pre></div> <h2 id=token-expiry-setting>Token Expiry Setting</h2> <p>This is how long (in minutes) before the access (Bearer) Token expires and needs to be refreshed. Default is 120 minutes.</p> <div class=highlight><pre><span></span><code><span class=na>ACCESS_TOKEN_EXPIRE_MINUTES</span><span class=o>=</span><span class=s>120</span>
</code></pre></div> <h2 id=check-cors-settings>Check CORS Settings</h2> <p>Cross-Origin Resource Sharing (<a href=https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS target=_blank>CORS</a>) is an HTTP-header based mechanism that allows a server to indicate any origins (domain, scheme, or port) other than its own from which a browser should permit loading resources.</p> <p>For a <strong>PUBLIC API</strong> (unless its going through an API gateway!), set <code>CORS_ORIGINS=*</code>, otherwise list the domains (<strong>and ports</strong>) required. If you use an API gateway of some nature, that will probably need to be listed.</p> <div class=highlight><pre><span></span><code><span class=na>CORS_ORIGINS</span><span class=o>=</span><span class=s>*</span>
</code></pre></div> <p>If the database is not configured or cannot be reached, the Application will disable all routes, print an error to the console, and return a a 500 status code with a clear JSON message for all routes. This saves the ugly default "Internal Server Error" from being displayed.</p> <h2 id=change-the-email-server-settings>Change the Email Server settings</h2> <p>The API will currently only send an email when a new user registers (though we will make more use of this in future), so you need to have valid email account details entered into the <code>.env</code> file.</p> <p>For development and testing, I can recommend using <a href=https://mailtrap.io target=_blank>Mailtrap</a> to avoid filling up your mailbox with development spam (note that the Unit/Integration tests will automatically disable the mail functionality for this reason).</p> <p>MailTrap offers a free Email capture service with a virtual web-based Inbox. Its great for developing and manually testing code that includes email sending, I can't recommend it highly enough.</p> <p>Once you have the email settings, replace the default values in the <code>.env</code> file:</p> <div class=highlight><pre><span></span><code><span class=na>MAIL_USERNAME</span><span class=o>=</span><span class=s>emailuser</span>
<span class=na>MAIL_PASSWORD</span><span class=o>=</span><span class=s>letmein</span>
<span class=na>MAIL_FROM</span><span class=o>=</span><span class=s>my_api@provider.com</span>
<span class=na>MAIL_PORT</span><span class=o>=</span><span class=s>587</span>
<span class=na>MAIL_SERVER</span><span class=o>=</span><span class=s>smtp.mailserver.com</span>
<span class=na>MAIL_FROM_NAME</span><span class=o>=</span><span class=s>&quot;FastAPI Template&quot;</span>
</code></pre></div> <h2 id=configure-admin-pages-optional>Configure Admin Pages (Optional)</h2> <p>The API includes an optional admin panel for managing users and API keys through a web interface. It's disabled by default and must be explicitly enabled.</p> <div class="admonition info"> <p class=admonition-title>Admin Panel Access</p> <p>Only existing admin users can access the admin panel. See the <a href=../../admin-panel/ >Admin Panel Documentation</a> for details on usage and features.</p> </div> <h3 id=enable-admin-pages>Enable Admin Pages</h3> <p>Set this to <code>True</code> to enable the admin panel web interface:</p> <div class=highlight><pre><span></span><code><span class=na>ADMIN_PAGES_ENABLED</span><span class=o>=</span><span class=s>True</span>
</code></pre></div> <p>When enabled, the admin panel will be accessible at the route specified in <code>ADMIN_PAGES_ROUTE</code>. When disabled (default), the admin routes return a 404 error.</p> <h3 id=customize-admin-pages-route>Customize Admin Pages Route</h3> <p>The admin panel is accessible at <code>/admin</code> by default. You can customize this:</p> <div class=highlight><pre><span></span><code><span class=na>ADMIN_PAGES_ROUTE</span><span class=o>=</span><span class=s>/admin</span>
</code></pre></div> <p>You can change this to any route you prefer, for example <code>/management</code> or <code>/dashboard</code>. The route must start with a forward slash (<code>/</code>).</p> <h3 id=customize-admin-panel-title>Customize Admin Panel Title</h3> <p>The title shown in the browser tab and page header:</p> <div class=highlight><pre><span></span><code><span class=na>ADMIN_PAGES_TITLE</span><span class=o>=</span><span class=s>&quot;API Administration&quot;</span>
</code></pre></div> <p>Customize this to match your application name or branding.</p> <h3 id=session-encryption-key>Session Encryption Key</h3> <div class="admonition danger"> <p class=admonition-title>Critical Security Setting</p> <p>This key encrypts admin session tokens. Treat it like your SECRET_KEY - keep it secret, unique per environment, never commit to version control, and regenerate if compromised.</p> </div> <p>The encryption key for admin session tokens:</p> <div class=highlight><pre><span></span><code><span class=na>ADMIN_PAGES_ENCRYPTION_KEY</span><span class=o>=</span>
</code></pre></div> <p><strong>Behavior:</strong></p> <ul> <li><strong>Empty (default):</strong> Auto-generates a new key on each server startup</li> <li>Sessions are invalidated when the server restarts</li> <li>Admins must re-login after each restart</li> <li>Fine for development</li> <li><strong>Set with a key:</strong> Persistent sessions across server restarts</li> <li>Admins stay logged in through restarts</li> <li><strong>Required for production</strong></li> </ul> <p><strong>Generate a persistent key:</strong></p> <p>Using the CLI (recommended):</p> <div class=highlight><pre><span></span><code><span class=gp>$ </span>api-admin<span class=w> </span>keys<span class=w> </span>-a
</code></pre></div> <p>Or manually with Python:</p> <div class=highlight><pre><span></span><code><span class=gp>$ </span>python<span class=w> </span>-c<span class=w> </span><span class=s1>&#39;from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())&#39;</span>
<span class=go>bXlfc2VjcmV0X2VuY3J5cHRpb25fa2V5X2V4YW1wbGU=</span>
</code></pre></div> <p>Then add to your <code>.env</code>:</p> <div class=highlight><pre><span></span><code><span class=na>ADMIN_PAGES_ENCRYPTION_KEY</span><span class=o>=</span><span class=s>bXlfc2VjcmV0X2VuY3J5cHRpb25fa2V5X2V4YW1wbGU=</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Production Recommendation</p> <p>Always set ADMIN_PAGES_ENCRYPTION_KEY in production to maintain persistent sessions. Use different keys for dev/staging/production environments.</p> </div> <h3 id=session-timeout>Session Timeout</h3> <p>How long (in seconds) before admin sessions expire:</p> <div class=highlight><pre><span></span><code><span class=na>ADMIN_PAGES_TIMEOUT</span><span class=o>=</span><span class=s>86400</span>
</code></pre></div> <p>Default is 86400 seconds (24 hours). Adjust based on your security requirements:</p> <ul> <li>Higher values: Better user experience, less re-authentication</li> <li>Lower values: Better security, more frequent re-authentication</li> </ul> <p>Common values:</p> <ul> <li><code>43200</code> - 12 hours</li> <li><code>86400</code> - 24 hours (default)</li> <li><code>604800</code> - 7 days</li> </ul> <h3 id=complete-admin-pages-example>Complete Admin Pages Example</h3> <div class=highlight><pre><span></span><code><span class=c1># Enable admin panel</span>
<span class=na>ADMIN_PAGES_ENABLED</span><span class=o>=</span><span class=s>True</span>
<span class=na>ADMIN_PAGES_ROUTE</span><span class=o>=</span><span class=s>/admin</span>
<span class=na>ADMIN_PAGES_TITLE</span><span class=o>=</span><span class=s>&quot;My API Administration&quot;</span>
<span class=na>ADMIN_PAGES_ENCRYPTION_KEY</span><span class=o>=</span><span class=s>your_generated_encryption_key_here</span>
<span class=na>ADMIN_PAGES_TIMEOUT</span><span class=o>=</span><span class=s>86400</span>
</code></pre></div> <h2 id=configure-logging-optional>Configure Logging (Optional)</h2> <p>The API uses loguru for structured logging with rotation, retention, and category-based filtering. Logging provides debugging, monitoring, and compliance capabilities.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>"Console Logging" FastAPI/Uvicorn already log to console. The file-based logging configured here is in addition to that and provides persistent, categorized logs.</p> </div> <h3 id=log-output-directory>Log Output Directory</h3> <p>Directory where log files are written:</p> <div class=highlight><pre><span></span><code><span class=na>LOG_PATH</span><span class=o>=</span><span class=s>./logs</span>
</code></pre></div> <p>Default is <code>./logs</code> (relative to project root). The directory must be writable by the application process. You can use absolute paths for production:</p> <div class=highlight><pre><span></span><code><span class=na>LOG_PATH</span><span class=o>=</span><span class=s>/var/log/myapi</span>
</code></pre></div> <h3 id=logging-level>Logging Level</h3> <p>Controls which log messages are captured:</p> <div class=highlight><pre><span></span><code><span class=na>LOG_LEVEL</span><span class=o>=</span><span class=s>INFO</span>
</code></pre></div> <p>Available levels (from most to least verbose):</p> <table> <thead> <tr> <th>Level</th> <th>Description</th> <th>Use Case</th> </tr> </thead> <tbody> <tr> <td>DEBUG</td> <td>All messages including debug output</td> <td>Development/troubleshooting</td> </tr> <tr> <td>INFO</td> <td>Normal operations and events</td> <td>Production (recommended)</td> </tr> <tr> <td>WARNING</td> <td>Issues that may need attention</td> <td>Production monitoring</td> </tr> <tr> <td>ERROR</td> <td>Error conditions</td> <td>Production (minimal)</td> </tr> <tr> <td>CRITICAL</td> <td>Severe system failures</td> <td>Production (minimal)</td> </tr> </tbody> </table> <p>Higher levels include all messages from lower levels (ERROR includes CRITICAL, INFO includes WARNING/ERROR/CRITICAL, etc.).</p> <h3 id=log-file-rotation>Log File Rotation</h3> <p>When to rotate (start a new) log file:</p> <div class=highlight><pre><span></span><code><span class=na>LOG_ROTATION</span><span class=o>=</span><span class=s>1 day</span>
</code></pre></div> <p>Prevents log files from growing unbounded. Supported formats:</p> <p><strong>Size-based rotation:</strong></p> <ul> <li><code>"100 MB"</code>, <code>"500 MB"</code>, <code>"1 GB"</code></li> </ul> <p><strong>Time-based rotation:</strong></p> <ul> <li><code>"1 day"</code>, <code>"1 week"</code>, <code>"1 month"</code>, <code>"1 year"</code></li> </ul> <p>Examples by scenario:</p> <ul> <li>High-traffic API: <code>"100 MB"</code> or <code>"6 hours"</code></li> <li>Standard API: <code>"1 day"</code> (default)</li> <li>Low-traffic API: <code>"1 week"</code></li> </ul> <h3 id=log-file-retention>Log File Retention</h3> <p>How long to keep old rotated log files:</p> <div class=highlight><pre><span></span><code><span class=na>LOG_RETENTION</span><span class=o>=</span><span class=s>30 days</span>
</code></pre></div> <p>Old log files are automatically deleted after this period. Examples:</p> <ul> <li>Development: <code>"7 days"</code></li> <li>Production: <code>"30 days"</code> or <code>"90 days"</code></li> <li>Compliance requirements: <code>"1 year"</code> or more</li> </ul> <p>Balance storage costs with compliance and debugging needs.</p> <h3 id=log-file-compression>Log File Compression</h3> <p>Compression format for rotated log files:</p> <div class=highlight><pre><span></span><code><span class=na>LOG_COMPRESSION</span><span class=o>=</span><span class=s>zip</span>
</code></pre></div> <p>Options:</p> <ul> <li><code>"zip"</code> - ZIP compression (recommended, widely compatible)</li> <li><code>"gz"</code> - gzip compression (smaller than zip)</li> <li><code>"bz2"</code> - bzip2 compression (smaller than gz, slower)</li> <li><code>""</code> or omit - No compression (not recommended)</li> </ul> <p>Compression saves significant disk space for archived logs, especially with high verbosity.</p> <h3 id=logging-categories>Logging Categories</h3> <p>Fine-grained control over what gets logged:</p> <div class=highlight><pre><span></span><code><span class=na>LOG_CATEGORIES</span><span class=o>=</span><span class=s>ALL</span>
</code></pre></div> <p><strong>Special values:</strong></p> <ul> <li><code>ALL</code> - Log everything (development/debugging)</li> <li><code>NONE</code> - Disable all logging (except critical errors)</li> </ul> <p><strong>Individual categories (combine with commas):</strong></p> <table> <thead> <tr> <th>Category</th> <th>What It Logs</th> <th>Recommended For</th> </tr> </thead> <tbody> <tr> <td>REQUESTS</td> <td>HTTP request/response logging</td> <td>Debugging, monitoring</td> </tr> <tr> <td>AUTH</td> <td>Authentication, login, token ops</td> <td>Production (security)</td> </tr> <tr> <td>DATABASE</td> <td>Database CRUD operations</td> <td>Debugging queries</td> </tr> <tr> <td>EMAIL</td> <td>Email sending operations</td> <td>Production (if using email)</td> </tr> <tr> <td>ERRORS</td> <td>Error conditions and exceptions</td> <td>Production (always)</td> </tr> <tr> <td>ADMIN</td> <td>Admin panel operations</td> <td>Production (audit)</td> </tr> <tr> <td>API_KEYS</td> <td>API key operations</td> <td>Production (security)</td> </tr> </tbody> </table> <p><strong>Configuration examples:</strong></p> <div class=highlight><pre><span></span><code><span class=c1># Development: log everything</span>
<span class=na>LOG_CATEGORIES</span><span class=o>=</span><span class=s>ALL</span>

<span class=c1># Production: security-focused</span>
<span class=na>LOG_CATEGORIES</span><span class=o>=</span><span class=s>ERRORS,AUTH,ADMIN,EMAIL</span>

<span class=c1># Production: minimal logging</span>
<span class=na>LOG_CATEGORIES</span><span class=o>=</span><span class=s>ERRORS</span>

<span class=c1># Debugging database issues</span>
<span class=na>LOG_CATEGORIES</span><span class=o>=</span><span class=s>ERRORS,DATABASE,REQUESTS</span>

<span class=c1># Comprehensive monitoring</span>
<span class=na>LOG_CATEGORIES</span><span class=o>=</span><span class=s>ERRORS,AUTH,ADMIN,EMAIL,DATABASE</span>

<span class=c1># Disable all logging</span>
<span class=na>LOG_CATEGORIES</span><span class=o>=</span><span class=s>NONE</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Production Recommendation</p> <p>For production, use <code>LOG_CATEGORIES=ERRORS,AUTH,ADMIN,EMAIL</code> with <code>LOG_LEVEL=INFO</code>. This provides security monitoring (AUTH/ADMIN), error tracking (ERRORS), and email operation logging (EMAIL) while keeping log files manageable.</p> </div> <p><strong>How combinations work:</strong></p> <ul> <li>Comma-separated values are combined (bitwise OR)</li> <li>Order doesn't matter: <code>AUTH,ERRORS</code> = <code>ERRORS,AUTH</code></li> <li>Case-insensitive: <code>auth</code> = <code>AUTH</code></li> <li>Whitespace is trimmed: <code>AUTH, ERRORS</code> works fine</li> </ul> <h3 id=log-filename>Log Filename</h3> <p>Custom filename for the log file:</p> <div class=highlight><pre><span></span><code><span class=na>LOG_FILENAME</span><span class=o>=</span><span class=s>api.log</span>
</code></pre></div> <p>Default is <code>api.log</code>. The filename <strong>cannot contain path separators</strong> (<code>/</code> or <code>\</code>) - use <code>LOG_PATH</code> to set the directory.</p> <p>Useful for separating logs by environment:</p> <div class=highlight><pre><span></span><code><span class=c1># In .env for production</span>
<span class=na>LOG_FILENAME</span><span class=o>=</span><span class=s>api.log</span>

<span class=c1># In test config</span>
<span class=na>LOG_FILENAME</span><span class=o>=</span><span class=s>test_api.log</span>
</code></pre></div> <p>The full log path will be: <code>{LOG_PATH}/{LOG_FILENAME}</code></p> <h3 id=console-logging>Console Logging</h3> <p>Enable console output in addition to file logging:</p> <div class=highlight><pre><span></span><code><span class=na>LOG_CONSOLE_ENABLED</span><span class=o>=</span><span class=s>false</span>
</code></pre></div> <div class="admonition warning"> <p class=admonition-title>Duplicate Console Output</p> <p>FastAPI/Uvicorn already log to console. Setting this to <code>true</code> causes <strong>duplicate console output</strong> - each log message appears twice in the console. Only enable if you have a specific reason (e.g., custom log formatting, Docker/Kubernetes setups).</p> </div> <p><strong>When to use:</strong></p> <ul> <li>✅ Custom log formatting requirements</li> <li>✅ Centralized logging systems that only capture console</li> <li>✅ Docker/Kubernetes environments without file access</li> </ul> <p><strong>When NOT to use:</strong></p> <ul> <li>❌ Local development (already has console output)</li> <li>❌ High-traffic APIs (performance impact)</li> <li>❌ Default installations (causes confusion)</li> </ul> <h3 id=complete-logging-configuration-examples>Complete Logging Configuration Examples</h3> <p><strong>Development configuration:</strong></p> <div class=highlight><pre><span></span><code><span class=na>LOG_PATH</span><span class=o>=</span><span class=s>./logs</span>
<span class=na>LOG_LEVEL</span><span class=o>=</span><span class=s>DEBUG</span>
<span class=na>LOG_ROTATION</span><span class=o>=</span><span class=s>1 day</span>
<span class=na>LOG_RETENTION</span><span class=o>=</span><span class=s>7 days</span>
<span class=na>LOG_COMPRESSION</span><span class=o>=</span><span class=s>zip</span>
<span class=na>LOG_CATEGORIES</span><span class=o>=</span><span class=s>ALL</span>
<span class=na>LOG_FILENAME</span><span class=o>=</span><span class=s>api.log</span>
<span class=na>LOG_CONSOLE_ENABLED</span><span class=o>=</span><span class=s>false</span>
</code></pre></div> <p><strong>Production configuration (security-focused):</strong></p> <div class=highlight><pre><span></span><code><span class=na>LOG_PATH</span><span class=o>=</span><span class=s>/var/log/myapi</span>
<span class=na>LOG_LEVEL</span><span class=o>=</span><span class=s>INFO</span>
<span class=na>LOG_ROTATION</span><span class=o>=</span><span class=s>1 day</span>
<span class=na>LOG_RETENTION</span><span class=o>=</span><span class=s>90 days</span>
<span class=na>LOG_COMPRESSION</span><span class=o>=</span><span class=s>zip</span>
<span class=na>LOG_CATEGORIES</span><span class=o>=</span><span class=s>ERRORS,AUTH,ADMIN,EMAIL</span>
<span class=na>LOG_FILENAME</span><span class=o>=</span><span class=s>api.log</span>
<span class=na>LOG_CONSOLE_ENABLED</span><span class=o>=</span><span class=s>false</span>
</code></pre></div> <p><strong>Production configuration (minimal):</strong></p> <div class=highlight><pre><span></span><code><span class=na>LOG_PATH</span><span class=o>=</span><span class=s>/var/log/myapi</span>
<span class=na>LOG_LEVEL</span><span class=o>=</span><span class=s>ERROR</span>
<span class=na>LOG_ROTATION</span><span class=o>=</span><span class=s>1 day</span>
<span class=na>LOG_RETENTION</span><span class=o>=</span><span class=s>30 days</span>
<span class=na>LOG_COMPRESSION</span><span class=o>=</span><span class=s>zip</span>
<span class=na>LOG_CATEGORIES</span><span class=o>=</span><span class=s>ERRORS</span>
<span class=na>LOG_FILENAME</span><span class=o>=</span><span class=s>api.log</span>
<span class=na>LOG_CONSOLE_ENABLED</span><span class=o>=</span><span class=s>false</span>
</code></pre></div> <h3 id=troubleshooting-logging>Troubleshooting Logging</h3> <p><strong>Log files not created:</strong></p> <ul> <li>Check <code>LOG_PATH</code> directory exists and is writable</li> <li>Check file permissions on the directory</li> <li>Verify the application process has write access</li> </ul> <p><strong>Log files filling disk:</strong></p> <ul> <li>Adjust <code>LOG_ROTATION</code> to rotate more frequently</li> <li>Reduce <code>LOG_RETENTION</code> to delete old logs sooner</li> <li>Use <code>LOG_COMPRESSION</code> to save space</li> <li>Reduce <code>LOG_LEVEL</code> to ERROR or WARNING</li> <li>Limit <code>LOG_CATEGORIES</code> to only what you need</li> </ul> <p><strong>Missing expected logs:</strong></p> <ul> <li>Check <code>LOG_CATEGORIES</code> includes the category you're looking for</li> <li>Verify <code>LOG_LEVEL</code> isn't filtering out messages</li> <li>Check logs are being written to the correct file path</li> <li>Ensure the operation you're logging is actually executing</li> </ul> <p><strong>Duplicate console output:</strong></p> <ul> <li>Set <code>LOG_CONSOLE_ENABLED=false</code> (this is the default)</li> </ul> <h2 id=example-full-env-file>Example full <code>.env</code> file</h2> <p>Below is a full .env file. This can also be found in the root of the API as <code>.env.example</code>.</p> <div class=highlight><pre><span></span><code><span class=c1># The Base API Url. This is where your API wil be served from, and can be read</span>
<span class=c1># in the application code. It has no effect on the running of the applciation</span>
<span class=c1># but is an easy way to build a path for API responses. Defaults to</span>
<span class=c1># http://localhost:8000</span>
<span class=na>BASE_URL</span><span class=o>=</span><span class=s>http://localhost:8000</span>

<span class=c1># Optional: Frontend URL for custom frontend integration. If set, password reset</span>
<span class=c1># links will redirect to your frontend instead of showing the built-in form.</span>
<span class=c1># Leave commented/unset to use the built-in password reset form.</span>
<span class=c1># FRONTEND_URL=https://app.example.com</span>

<span class=c1># The root path for the API. This is the path that the API will be served from,</span>
<span class=c1>#defaults to &#39;&#39; (empty string). If you want to serve the API from a subpath,</span>
<span class=c1># change this to the subpath, eg: /api/v1</span>
<span class=c1># API_ROOT=/api/v1</span>

<span class=c1># Set to True to disable the root route, and return a 404 for the root path. If</span>
<span class=c1># not set, defaults to False.</span>
<span class=na>NO_ROOT_ROUTE</span><span class=o>=</span><span class=s>False</span>

<span class=c1># Database Settings - REQUIRED</span>
<span class=c1># These must be changed to match your PostgreSQL setup.</span>
<span class=c1># The database must already exist before running the application.</span>
<span class=na>DB_USER</span><span class=o>=</span><span class=s>your_database_username</span>
<span class=na>DB_PASSWORD</span><span class=o>=</span><span class=s>your_secure_database_password</span>
<span class=na>DB_ADDRESS</span><span class=o>=</span><span class=s>localhost</span>
<span class=na>DB_PORT</span><span class=o>=</span><span class=s>5432</span>
<span class=na>DB_NAME</span><span class=o>=</span><span class=s>my_database_name</span>

<span class=c1># Database settings to use for testing. These must be changed to match your</span>
<span class=c1># setup. Note that User/Pass and Server/Port are the same as above, but the</span>
<span class=c1># database name should be different to avoid conflicts. This database needs to</span>
<span class=c1># already exist.</span>
<span class=na>TEST_DB_NAME</span><span class=o>=</span><span class=s>my_database_name_tests</span>

<span class=c1># JWT Secret Key - CRITICAL SECURITY SETTING</span>
<span class=c1># Generate with one of these commands:</span>
<span class=c1>#   openssl rand -hex 32</span>
<span class=c1>#   python -c &#39;import secrets; print(secrets.token_hex(32))&#39;</span>
<span class=c1># Must be 32+ characters. DO NOT use the example below!</span>
<span class=na>SECRET_KEY</span><span class=o>=</span><span class=s>CHANGE_ME_generate_with_command_above</span>

<span class=c1># How long the access token is valid for, in minutes. Defaults to 120 (2 hours)</span>
<span class=na>ACCESS_TOKEN_EXPIRE_MINUTES</span><span class=o>=</span><span class=s>120</span>

<span class=c1># List of origins that can access this API, separated by a comma, eg:</span>
<span class=c1># CORS_ORIGINS=http://localhost,https://www.gnramsay.com</span>
<span class=c1># If you want all origins to access (the default), use * or comment out:</span>
<span class=na>CORS_ORIGINS</span><span class=o>=</span><span class=s>*</span>

<span class=c1># Email Settings - OPTIONAL for development, REQUIRED for production</span>
<span class=c1># Set these for password reset and notification emails to work</span>
<span class=c1># Leave empty for local development (email features will be disabled)</span>
<span class=na>MAIL_USERNAME</span><span class=o>=</span><span class=s>your_smtp_username</span>
<span class=na>MAIL_PASSWORD</span><span class=o>=</span><span class=s>your_smtp_password</span>
<span class=na>MAIL_FROM</span><span class=o>=</span><span class=s>noreply@yourdomain.com</span>
<span class=na>MAIL_PORT</span><span class=o>=</span><span class=s>587</span>
<span class=na>MAIL_SERVER</span><span class=o>=</span><span class=s>smtp.yourmailprovider.com</span>
<span class=na>MAIL_FROM_NAME</span><span class=o>=</span><span class=s>&quot;FastAPI Template&quot;</span>

<span class=c1># Admin Pages Settings</span>
<span class=na>ADMIN_PAGES_ENABLED</span><span class=o>=</span><span class=s>True</span>
<span class=na>ADMIN_PAGES_ROUTE</span><span class=o>=</span><span class=s>/admin</span>
<span class=na>ADMIN_PAGES_TITLE</span><span class=o>=</span><span class=s>&quot;API Administration&quot;</span>
<span class=c1># Optional: Generate with: python -c &#39;from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())&#39;</span>
<span class=c1># Leave empty to auto-generate on startup (regenerates each restart)</span>
<span class=na>ADMIN_PAGES_ENCRYPTION_KEY</span><span class=o>=</span>
<span class=na>ADMIN_PAGES_TIMEOUT</span><span class=o>=</span><span class=s>86400</span>

<span class=c1># Common Email Settings</span>
<span class=na>MAIL_STARTTLS</span><span class=o>=</span><span class=s>True</span>
<span class=na>MAIL_SSL_TLS</span><span class=o>=</span><span class=s>False</span>
<span class=na>MAIL_USE_CREDENTIALS</span><span class=o>=</span><span class=s>True</span>
<span class=na>MAIL_VALIDATE_CERTS</span><span class=o>=</span><span class=s>True</span>

<span class=c1># Logging Configuration</span>
<span class=c1># Directory where log files will be written (must be writable by the application)</span>
<span class=na>LOG_PATH</span><span class=o>=</span><span class=s>./logs</span>

<span class=c1># Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL</span>
<span class=c1># DEBUG shows all messages, INFO shows normal operations, WARNING and above show only issues</span>
<span class=na>LOG_LEVEL</span><span class=o>=</span><span class=s>INFO</span>

<span class=c1># When to rotate log files: &quot;500 MB&quot;, &quot;1 day&quot;, &quot;1 week&quot;, etc.</span>
<span class=na>LOG_ROTATION</span><span class=o>=</span><span class=s>1 day</span>

<span class=c1># How long to keep old log files: &quot;7 days&quot;, &quot;30 days&quot;, &quot;1 month&quot;, etc.</span>
<span class=na>LOG_RETENTION</span><span class=o>=</span><span class=s>30 days</span>

<span class=c1># Compression format for rotated logs: &quot;zip&quot;, &quot;gz&quot;, &quot;bz2&quot;, or empty for no compression</span>
<span class=na>LOG_COMPRESSION</span><span class=o>=</span><span class=s>zip</span>

<span class=c1># What to log - choose one or combine with commas:</span>
<span class=c1>#   ALL                    - Log everything (recommended for development/debugging)</span>
<span class=c1>#   NONE                   - Disable logging</span>
<span class=c1>#   REQUESTS               - HTTP request/response logging</span>
<span class=c1>#   AUTH                   - Authentication, login, token operations</span>
<span class=c1>#   DATABASE               - Database CRUD operations</span>
<span class=c1>#   EMAIL                  - Email sending operations</span>
<span class=c1>#   ERRORS                 - Error conditions (always recommended)</span>
<span class=c1>#   ADMIN                  - Admin panel operations</span>
<span class=c1>#   API_KEYS               - API key operations</span>
<span class=c1>#</span>
<span class=c1># Examples:</span>
<span class=c1>#   LOG_CATEGORIES=ALL                      # Log everything</span>
<span class=c1>#   LOG_CATEGORIES=ERRORS,AUTH,DATABASE     # Only log errors, auth, and database operations</span>
<span class=c1>#   LOG_CATEGORIES=REQUESTS,ERRORS          # Only log requests and errors</span>
<span class=na>LOG_CATEGORIES</span><span class=o>=</span><span class=s>ALL</span>

<span class=c1># Set the log filename (default: api.log)</span>
<span class=c1># Useful for separating logs in different environments (e.g., test_api.log for tests)</span>
<span class=na>LOG_FILENAME</span><span class=o>=</span><span class=s>api.log</span>

<span class=c1># Enable console logging (default: false)</span>
<span class=c1># Set to true if you want loguru to also log to console</span>
<span class=c1># Note: FastAPI/Uvicorn already logs to console, so this is usually not needed</span>
<span class=c1># and will cause duplicate console output</span>
<span class=na>LOG_CONSOLE_ENABLED</span><span class=o>=</span><span class=s>false</span>

<span class=c1># Metrics and Observability</span>
<span class=c1># Enable Prometheus metrics collection (default: false)</span>
<span class=c1># When enabled, exposes metrics at /metrics endpoint in Prometheus format</span>
<span class=c1># Includes HTTP performance metrics and custom business metrics</span>
<span class=c1># See: docs/usage/metrics.md for details</span>
<span class=na>METRICS_ENABLED</span><span class=o>=</span><span class=s>false</span>
</code></pre></div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../installation/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Installation"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Installation </div> </div> </a> <a href=../setup/ class="md-footer__link md-footer__link--next" aria-label="Next: Install Dependencies"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Install Dependencies </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> © 2022-2026 Grant Ramsay (Seapagan) </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/seapagan target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://twitter.com/gnramsay-dev target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.footer", "content.code.copy", "content.code.annotate", "navigation.tracking", "navigation.indexes", "navigation.prune", "navigation.top", "toc.follow"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.f1b6f286.min.js></script> </body> </html>